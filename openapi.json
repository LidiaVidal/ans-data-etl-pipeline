{"openapi":"3.1.0","info":{"title":"Intuitive Care API - Teste Backend","description":"API para consulta de operadoras e despesas da ANS","version":"1.0.0"},"paths":{"/api/operadoras/":{"get":{"tags":["operadoras"],"summary":"List Operadoras","operationId":"list_operadoras_api_operadoras__get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Busca por Razão Social ou CNPJ","title":"Search"},"description":"Busca por Razão Social ou CNPJ"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperadoraResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/operadoras/{cnpj}":{"get":{"tags":["operadoras"],"summary":"Get Operadora","description":"Busca os detalhes de uma operadora pelo CNPJ.\nRealiza sanitização do input antes da busca.","operationId":"get_operadora_api_operadoras__cnpj__get","parameters":[{"name":"cnpj","in":"path","required":true,"schema":{"type":"string","title":"CNPJ da Operadora","description":"Aceita apenas números ou com formatação"},"description":"Aceita apenas números ou com formatação"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperadoraDetalhe"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/operadoras/{cnpj}/despesas":{"get":{"tags":["operadoras"],"summary":"Get Operadora Despesas","description":"Retorna o histórico de despesas de uma operadora específica.","operationId":"get_operadora_despesas_api_operadoras__cnpj__despesas_get","parameters":[{"name":"cnpj","in":"path","required":true,"schema":{"type":"string","title":"CNPJ"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DespesaBase"},"title":"Response Get Operadora Despesas Api Operadoras  Cnpj  Despesas Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/estatisticas/":{"get":{"tags":["estatisticas"],"summary":"Get Estatisticas","operationId":"get_estatisticas_api_estatisticas__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EstatisticasResponse"}}}}}}},"/":{"get":{"summary":"Read Root","operationId":"read_root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"DespesaBase":{"properties":{"id":{"type":"integer","title":"Id"},"ano":{"type":"integer","title":"Ano"},"trimestre":{"type":"integer","title":"Trimestre"},"data_evento":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Data Evento"},"valor":{"type":"number","title":"Valor"}},"type":"object","required":["id","ano","trimestre","valor"],"title":"DespesaBase"},"DespesaUF":{"properties":{"uf":{"type":"string","title":"Uf"},"total":{"type":"number","title":"Total"}},"type":"object","required":["uf","total"],"title":"DespesaUF"},"EstatisticasResponse":{"properties":{"total_geral":{"type":"number","title":"Total Geral"},"media_por_operadora":{"type":"number","title":"Media Por Operadora"},"top_5_operadoras":{"items":{"$ref":"#/components/schemas/TopOperadora"},"type":"array","title":"Top 5 Operadoras"},"despesas_por_uf":{"items":{"$ref":"#/components/schemas/DespesaUF"},"type":"array","title":"Despesas Por Uf"}},"type":"object","required":["total_geral","media_por_operadora","top_5_operadoras","despesas_por_uf"],"title":"EstatisticasResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"OperadoraBase":{"properties":{"RegistroANS":{"type":"integer","title":"Registroans"},"CNPJ":{"type":"string","title":"Cnpj"},"RazaoSocial":{"type":"string","title":"Razaosocial"},"UF":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uf"},"Modalidade":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Modalidade"}},"type":"object","required":["RegistroANS","CNPJ","RazaoSocial"],"title":"OperadoraBase"},"OperadoraDetalhe":{"properties":{"RegistroANS":{"type":"integer","title":"Registroans"},"CNPJ":{"type":"string","title":"Cnpj"},"RazaoSocial":{"type":"string","title":"Razaosocial"},"UF":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uf"},"Modalidade":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Modalidade"}},"type":"object","required":["RegistroANS","CNPJ","RazaoSocial"],"title":"OperadoraDetalhe"},"OperadoraResponse":{"properties":{"data":{"items":{"$ref":"#/components/schemas/OperadoraBase"},"type":"array","title":"Data"},"meta":{"$ref":"#/components/schemas/PaginationMeta"}},"type":"object","required":["data","meta"],"title":"OperadoraResponse"},"PaginationMeta":{"properties":{"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"limit":{"type":"integer","title":"Limit"},"total_pages":{"type":"integer","title":"Total Pages"}},"type":"object","required":["total","page","limit","total_pages"],"title":"PaginationMeta"},"TopOperadora":{"properties":{"razao_social":{"type":"string","title":"Razao Social"},"uf":{"type":"string","title":"Uf"},"total_despesas":{"type":"number","title":"Total Despesas"}},"type":"object","required":["razao_social","uf","total_despesas"],"title":"TopOperadora"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}